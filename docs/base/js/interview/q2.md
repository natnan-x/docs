# 说说你对闭包的理解

## 一、闭包的定义

**闭包是指函数可以访问它定义时的外部作用域变量，即使外层函数已经执行完。闭包的核心是作用域链，让外层变量在函数生命周期内保持可访问。**

## 二、闭包的定义

每个函数在创建时会形成一个 **作用域链**，这个作用域链会保留对外层变量的引用。<br/>
只要闭包存在，外层函数的变量就不会被销毁。

```js
function outer() {
  var count = 0; // 外部变量

  function inner() {
    count++;
    console.log(count);
  }

  return inner;
}

var fn = outer(); // outer 执行完了
fn(); // 1
fn(); // 2
fn(); // 3
```

- 虽然 `outer()` 已经执行完，`count` 仍然被 `inner` 保存着。
- 每次调用 `fn()`，`count` 都会累加。

## 三、闭包的特点

- 闭包的缺点或注意事项？
  - 会增加内存占用，因为外层变量不会被销毁。
  - 作用域链查找会稍微慢，但现代浏览器优化很好。
- 闭包在实际项目的应用？
  - 封装私有变量（模块化设计）
  - 记忆函数（缓存计算结果）
  - 异步回调中保持循环变量（如 for 循环里的 setTimeout）
