# æ•°ç»„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ

## ä¸€ã€æ•°ç»„åŸºç¡€æ¦‚å¿µ

- **å®šä¹‰ï¼š** JavaScript ä¸­çš„ä¸€ç§å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨æœ‰åºæ•°æ®é›†åˆã€‚
- **ç‰¹ç‚¹ï¼š**
  1. å…ƒç´ æœ‰åºï¼Œå¯é€šè¿‡ç´¢å¼•è®¿é—®ã€‚
  2. æ”¯æŒä¸åŒç±»å‹æ··åˆå­˜å‚¨ã€‚
  3. é•¿åº¦å¯åŠ¨æ€å˜åŒ–ã€‚
- **åˆ¤æ–­æ•°ç»„ï¼š**

```js
Array.isArray(arr); // æ¨è
arr instanceof Array; // å¯ç”¨
Object.prototype.toString.call(arr); // "[object Array]"
```

## äºŒã€ES5 å¸¸ç”¨æ–¹æ³•

| æ–¹æ³•          | åŠŸèƒ½               | ç¤ºä¾‹                                    | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„ |
| ------------- | ------------------ | --------------------------------------- | -------------- |
| `push`        | å°¾éƒ¨æ·»åŠ å…ƒç´        | `[1,2].push(3)` â†’ `[1,2,3]`             | âœ…             |
| `pop`         | å°¾éƒ¨åˆ é™¤å…ƒç´        | `[1,2,3].pop()` â†’ `[1,2]`               | âœ…             |
| `unshift`     | å¤´éƒ¨æ·»åŠ å…ƒç´        | `[1,2].unshift(0)` â†’ `[0,1,2]`          | âœ…             |
| `shift`       | å¤´éƒ¨åˆ é™¤å…ƒç´        | `[0,1,2].shift()` â†’ `[1,2]`             | âœ…             |
| `splice`      | ä»»æ„ä½ç½®å¢åˆ æ”¹     | `[1,2,3].splice(1,1,'a')` â†’ `[1,'a',3]` | âœ…             |
| `sort`        | æ’åº               | `[3,1,2].sort()` â†’ `[1,2,3]`            | âœ…             |
| `reverse`     | åè½¬               | `[1,2,3].reverse()` â†’ `[3,2,1]`         | âœ…             |
| `concat`      | åˆå¹¶æ•°ç»„           | `[1,2].concat([3,4])` â†’ `[1,2,3,4]`     | âŒ             |
| `slice`       | æˆªå–æ•°ç»„           | `[1,2,3].slice(0,2)` â†’ `[1,2]`          | âŒ             |
| `forEach`     | éå†æ•°ç»„           | `[1,2,3].forEach(x=>console.log(x))`    | âŒ             |
| `map`         | è¿”å›æ–°æ•°ç»„         | `[1,2,3].map(x=>x*2)` â†’ `[2,4,6]`       | âŒ             |
| `filter`      | è¿”å›æ»¡è¶³æ¡ä»¶çš„æ•°ç»„ | `[1,2,3].filter(x>1)` â†’ `[2,3]`         | âŒ             |
| `reduce`      | å½’å¹¶è®¡ç®—           | `[1,2,3].reduce((a,b)=>a+b,0)` â†’ 6      | âŒ             |
| `indexOf`     | æŸ¥æ‰¾å…ƒç´ ç´¢å¼•       | `[1,2,3].indexOf(2)` â†’ 1                | âŒ             |
| `lastIndexOf` | æŸ¥æ‰¾æœ€åç´¢å¼•       | `[1,2,2].lastIndexOf(2)` â†’ 2            | âŒ             |

## ä¸‰ã€ES6 æ–°å¢æ–¹æ³•

| æ–¹æ³•             | åŠŸèƒ½                        | ç¤ºä¾‹                                            | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„ |
| ---------------- | --------------------------- | ----------------------------------------------- | -------------- |
| `find`           | è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´     | `[1,2,3].find(x>1)` â†’ 2                         | âŒ             |
| `findIndex`      | è¿”å›æ»¡è¶³æ¡ä»¶å…ƒç´ ç´¢å¼•        | `[1,2,3].findIndex(x>1)` â†’ 1                    | âŒ             |
| `includes`       | æ˜¯å¦åŒ…å«å…ƒç´                 | `[1,2,3].includes(2)` â†’ true                    | âŒ             |
| `Array.from()`   | ç±»æ•°ç»„è½¬æ•°ç»„                | `Array.from('abc')` â†’ `['a','b','c']`           | âŒ             |
| `Array.of()`     | åˆ›å»ºæ•°ç»„                    | `Array.of(1,2,3)` â†’ `[1,2,3]`                   | âŒ             |
| æ‰©å±•è¿ç®—ç¬¦ `...` | å±•å¼€æ•°ç»„                    | `[...arr1, ...arr2]`                            | âŒ             |
| `entries()`      | è¿”å› `[index,value]` è¿­ä»£å™¨ | `for(let [i,v] of arr.entries())`               | âŒ             |
| `keys()`         | è¿”å›ç´¢å¼•è¿­ä»£å™¨              | `for(let i of arr.keys())`                      | âŒ             |
| `values()`       | è¿”å›å€¼è¿­ä»£å™¨                | `for(let v of arr.values())`                    | âŒ             |
| `flat`           | æ‰å¹³åŒ–æ•°ç»„                  | `[1,[2,[3]]].flat()` â†’ `[1,2,[3]]`              | âŒ             |
| `flatMap`        | map + æ‰å¹³åŒ–                | `[1,2,3].flatMap(x=>[x,x*2])` â†’ `[1,2,2,4,3,6]` | âŒ             |

## å››ã€ES7ï¼ˆES2016ï¼‰æ–°å¢æ–¹æ³•

| æ–¹æ³•       | åŠŸèƒ½                   | ç¤ºä¾‹                         | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„ |
| ---------- | ---------------------- | ---------------------------- | -------------- |
| `includes` | åˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«æŸå…ƒç´  | `[1,2,3].includes(2)` â†’ true | âŒ             |

::: warning
âš ï¸ ES7 æ ¸å¿ƒæ–°å¢æ–¹æ³•ä¸»è¦æ˜¯ includesï¼Œå…¶ä»–æ“ä½œæ–¹æ³•å·²åœ¨ ES6 æä¾›ã€‚
:::

## äº”ã€åŸæ•°ç»„æ˜¯å¦è¢«ç ´åæ€»ç»“

| æ–¹æ³•ç±»å‹     | æ–¹æ³•ç¤ºä¾‹                                                                                         | æ˜¯å¦ç ´ååŸæ•°ç»„ |
| ------------ | ------------------------------------------------------------------------------------------------ | -------------- |
| ä¿®æ”¹åŸæ•°ç»„   | `push`, `pop`, `shift`, `unshift`, `splice`, `sort`, `reverse`, `copyWithin`, `fill`             | âœ…             |
| ä¸ä¿®æ”¹åŸæ•°ç»„ | `concat`, `slice`, `map`, `filter`, `reduce`, `find`, `findIndex`, `includes`, `flat`, `flatMap` | âŒ             |

## å…­ã€å‰ç«¯é¢è¯•å¸¸è§æ‹“å±•é¢˜

#### ğŸ’¬Q1: å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„ç±»å‹åˆ¤æ–­æ–¹æ³•

```js
Array.isArray([])                  // true âœ… æ¨è
[] instanceof Array                // true
Object.prototype.toString.call([]) // "[object Array]"
```

#### ğŸ’¬Q2: æ•°ç»„çš„æµ…æ‹·è´å’Œæ·±æ‹·è´æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„å¼•ç”¨ç±»å‹æ‹·è´åŸç†
**ç­”æ¡ˆ/è§£æï¼š**

- **æµ…æ‹·è´ï¼š**åªå¤åˆ¶ç¬¬ä¸€å±‚ï¼Œå†…éƒ¨å¯¹è±¡å¼•ç”¨ä¸å˜

  ```js
  let arr = [1, 2, [3, 4]];
  let shallow = [...arr];
  shallow[2][0] = 100;
  console.log(arr); // [1,2,[100,4]]
  ```

- **æ·±æ‹·è´ï¼š**å¤åˆ¶æ‰€æœ‰å±‚ï¼Œç‹¬ç«‹
  ```js
  let deep = JSON.parse(JSON.stringify(arr));
  deep[2][0] = 200;
  console.log(arr); // [1,2,[100,4]]
  ```

#### ğŸ’¬Q3: æ•°ç»„å»é‡æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„æ“ä½œæŠ€å·§

```js
let arr = [1, 2, 2, 3, 3, 3];
// æ–¹æ³•1ï¼šSet
let unique = [...new Set(arr)]; // [1,2,3]
// æ–¹æ³•2ï¼šfilter + indexOf
let unique2 = arr.filter((v, i, a) => a.indexOf(v) === i); // [1,2,3]
```

#### ğŸ’¬Q4: å¦‚ä½•æ‰å¹³åŒ–å¤šå±‚æ•°ç»„ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**ES6/ES7 æ–°ç‰¹æ€§

```js
let nested = [1, [2, [3]]];
nested.flat(); // [1,2,[3]]  é»˜è®¤æ‰å¹³ä¸€å±‚
nested.flat(2); // [1,2,3]   æ‰å¹³ä¸¤å±‚,å¤šå±‚infinity
nested.flatMap((x) => [x, x * 2]); // [1,2,2,4,3,6]
```

#### ğŸ’¬Q5: æ•°ç»„æ’åºçš„æ³¨æ„äº‹é¡¹ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**`sort` é»˜è®¤è¡Œä¸ºã€æ’åºå‡½æ•°

```js
let arr = [10, 1, 5];
arr.sort(); // ['1','10','5'] å­—ç¬¦ä¸²æ’åº
arr.sort((a, b) => a - b); // [1,5,10] æ•°å­—æ’åº
```

#### ğŸ’¬Q6: æ•°ç»„åˆå¹¶çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„æ‰©å±•ã€æ€§èƒ½è€ƒè™‘

```js
let a = [1, 2];
let b = [3, 4];
// æ–¹æ³•1ï¼šconcat
let c1 = a.concat(b); // [1,2,3,4]
// æ–¹æ³•2ï¼šES6 æ‰©å±•è¿ç®—ç¬¦
let c2 = [...a, ...b]; // [1,2,3,4]
```

#### ğŸ’¬Q7: æ•°ç»„æŸ¥æ‰¾å…ƒç´ çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æŸ¥æ‰¾æ–¹æ³•åŠè¿”å›å€¼

```js
let arr = [1, 2, 3, 4];
arr.indexOf(3); // 2
arr.lastIndexOf(2); // 1
arr.find((x) => x > 2); // 3
arr.findIndex((x) => x > 2); // 2
arr.includes(2); // true
```

#### ğŸ’¬Q8: å¦‚ä½•åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„é•¿åº¦åˆ¤æ–­

```js
let arr = [];
if (arr.length === 0) {
  console.log("æ•°ç»„ä¸ºç©º");
}
```

#### ğŸ’¬Q9: æ•°ç»„æŸ¥æ‰¾æœ€å¤§å€¼/æœ€å°å€¼

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„æ“ä½œæŠ€å·§

```js
let arr = [5, 2, 9, 1];
Math.max(...arr); // 9
Math.min(...arr); // 1
```

#### ğŸ’¬Q10: æ•°ç»„å»é‡ + æ’åºç»„åˆ

**è€ƒå¯Ÿç‚¹ï¼š**é“¾å¼æ“ä½œã€ES6 ç‰¹æ€§

```js
let arr = [3, 1, 2, 3, 2];
[...new Set(arr)].sort((a, b) => a - b); // [1,2,3]
```

#### ğŸ’¬Q11: : å¦‚ä½•åˆ¤æ–­æ•°ç»„ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**some æ–¹æ³•

```js
let arr = [1, 2, 3];
arr.some((x) => x > 2); // true
```

#### ğŸ’¬Q12: å¦‚ä½•åˆ¤æ–­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**every æ–¹æ³•

```js
let arr = [2, 4, 6];
arr.every((x) => x % 2 === 0); // true
```

#### ğŸ’¬Q13: æ•°ç»„é“¾å¼æ“ä½œç¤ºä¾‹

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„æ–¹æ³•ç»„åˆã€é“¾å¼æ“ä½œ

```js
let res = [1, 2, 3, 4].map((x) => x * 2).filter((x) => x > 4); // [6,8]
```

#### ğŸ’¬Q14: æ•°ç»„å¤åˆ¶ä¸ copyWithin ç”¨æ³•

**è€ƒå¯Ÿç‚¹ï¼š**åŸæ•°ç»„ä¿®æ”¹ã€å±€éƒ¨å¤åˆ¶

```js
let arr = [1, 2, 3, 4];
arr.copyWithin(0, 2, 4); // [3,4,3,4]
```

#### ğŸ’¬Q15: æ•°ç»„å¸¸ç”¨æ–¹æ³•æ˜¯å¦ä¼šç ´ååŸæ•°ç»„ï¼Ÿ

**è€ƒå¯Ÿç‚¹ï¼š**æ•°ç»„æ–¹æ³•å‰¯ä½œç”¨

| æ–¹æ³•                                                                                             | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„ |
| ------------------------------------------------------------------------------------------------ | -------------- |
| `push`, `pop`, `shift`, `unshift`, `splice`, `sort`, `reverse`, `fill`, `copyWithin`             | âœ…             |
| `map`, `filter`, `slice`, `concat`, `reduce`, `find`, `findIndex`, `includes`, `flat`, `flatMap` | âŒ             |
