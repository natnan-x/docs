import{_ as t,c as i,o as a,af as l}from"./chunks/framework.hx-odK46.js";const g=JSON.parse('{"title":"AJAX、Fetch、Axios 的区别是什么","description":"","frontmatter":{},"headers":[],"relativePath":"base/js-interview/q5.md","filePath":"base/js-interview/q5.md"}'),e={name:"base/js-interview/q5.md"};function n(h,s,k,d,r,p){return a(),i("div",null,[...s[0]||(s[0]=[l(`<h1 id="ajax、fetch、axios-的区别是什么" tabindex="-1">AJAX、Fetch、Axios 的区别是什么 <a class="header-anchor" href="#ajax、fetch、axios-的区别是什么" aria-label="Permalink to “AJAX、Fetch、Axios 的区别是什么”">​</a></h1><h2 id="一、结论一句话" tabindex="-1">一、结论一句话 <a class="header-anchor" href="#一、结论一句话" aria-label="Permalink to “一、结论一句话”">​</a></h2><div class="info custom-block"><p class="custom-block-title">AJAX 是概念，Fetch 是原生 API，Axios 是封装库。</p><p>三者核心区别在于底层实现、错误处理机制、功能封装、兼容性与易用性。</p></div><h2 id="二、详细对比" tabindex="-1">二、详细对比 <a class="header-anchor" href="#二、详细对比" aria-label="Permalink to “二、详细对比”">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">对比项</th><th style="text-align:left;">AJAX（XMLHttpRequest）</th><th style="text-align:left;">Fetch API</th><th style="text-align:left;">Axios</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>本质</strong></td><td style="text-align:left;">基于 XHR 的异步请求技术</td><td style="text-align:left;">原生 Promise 风格 HTTP API</td><td style="text-align:left;">第三方库（封装 XHR/Fetch）</td></tr><tr><td style="text-align:left;"><strong>语法风格</strong></td><td style="text-align:left;">回调（或需手动封装 Promise）</td><td style="text-align:left;">Promise + async/await</td><td style="text-align:left;">Promise + 拦截器封装</td></tr><tr><td style="text-align:left;"><strong>错误处理</strong></td><td style="text-align:left;">手动判断状态码</td><td style="text-align:left;">只在网络或 CORS 错误时抛异常</td><td style="text-align:left;">非 2xx 自动抛错</td></tr><tr><td style="text-align:left;"><strong>JSON 处理</strong></td><td style="text-align:left;">手动 <code>JSON.parse()</code></td><td style="text-align:left;"><code>res.json()</code> 转换</td><td style="text-align:left;">自动解析 JSON</td></tr><tr><td style="text-align:left;"><strong>请求取消</strong></td><td style="text-align:left;"><code>xhr.abort()</code></td><td style="text-align:left;"><code>AbortController</code></td><td style="text-align:left;"><code>AbortController</code> 或旧 <code>CancelToken</code></td></tr><tr><td style="text-align:left;"><strong>上传进度</strong></td><td style="text-align:left;">原生支持 <code>xhr.upload.onprogress</code></td><td style="text-align:left;">不支持（需流式实现）</td><td style="text-align:left;">支持 <code>onUploadProgress</code></td></tr><tr><td style="text-align:left;"><strong>跨域携带凭证</strong></td><td style="text-align:left;"><code>xhr.withCredentials = true</code></td><td style="text-align:left;"><code>credentials: &#39;include&#39;</code></td><td style="text-align:left;"><code>withCredentials: true</code></td></tr><tr><td style="text-align:left;"><strong>拦截器机制</strong></td><td style="text-align:left;">无</td><td style="text-align:left;">无</td><td style="text-align:left;">支持请求与响应拦截器</td></tr><tr><td style="text-align:left;"><strong>兼容性</strong></td><td style="text-align:left;">兼容旧浏览器</td><td style="text-align:left;">现代浏览器支持（需 polyfill）</td><td style="text-align:left;">兼容性强（依赖 XHR）</td></tr><tr><td style="text-align:left;"><strong>Node 端支持</strong></td><td style="text-align:left;">否</td><td style="text-align:left;">Node 18+ 原生支持</td><td style="text-align:left;">是（axios 底层切换为 http 模块）</td></tr></tbody></table><h2 id="三、典型代码示例" tabindex="-1">三、典型代码示例 <a class="header-anchor" href="#三、典型代码示例" aria-label="Permalink to “三、典型代码示例”">​</a></h2><h3 id="_1-ajax-xhr" tabindex="-1">1. AJAX (XHR) <a class="header-anchor" href="#_1-ajax-xhr" aria-label="Permalink to “1. AJAX (XHR)”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> xhr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XMLHttpRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (xhr.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(xhr.responseText));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h3 id="_2-fetch" tabindex="-1">2. Fetch <a class="header-anchor" href="#_2-fetch" aria-label="Permalink to “2. Fetch”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res.ok) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`HTTP \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err));</span></span></code></pre></div><h3 id="_3-axios" tabindex="-1">3. Axios <a class="header-anchor" href="#_3-axios" aria-label="Permalink to “3. Axios”">​</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> axios </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;axios&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">axios</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/user&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res.data))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err));</span></span></code></pre></div><h2 id="四、应用场景与优缺点" tabindex="-1">四、应用场景与优缺点 <a class="header-anchor" href="#四、应用场景与优缺点" aria-label="Permalink to “四、应用场景与优缺点”">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">技术</th><th style="text-align:left;">优点</th><th style="text-align:left;">缺点</th><th style="text-align:left;">适用场景</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>AJAX</strong></td><td style="text-align:left;">控制细粒度、支持进度事件、兼容性高</td><td style="text-align:left;">写法繁琐、无拦截器</td><td style="text-align:left;">老旧项目、上传文件</td></tr><tr><td style="text-align:left;"><strong>Fetch</strong></td><td style="text-align:left;">语法简洁、原生支持 Promise、可用流式响应</td><td style="text-align:left;">无进度、非 2xx 不抛错</td><td style="text-align:left;">现代浏览器、轻量前端项目</td></tr><tr><td style="text-align:left;"><strong>Axios</strong></td><td style="text-align:left;">功能完备、支持拦截器、自动 JSON、支持 Node</td><td style="text-align:left;">需安装依赖、体积略大</td><td style="text-align:left;">现代项目通用标准方案</td></tr></tbody></table><h2 id="五、面试加分点" tabindex="-1">五、面试加分点 <a class="header-anchor" href="#五、面试加分点" aria-label="Permalink to “五、面试加分点”">​</a></h2><ol><li><b>Fetch 是 XHR 的现代替代方案</b>，语义更清晰，但功能仍未完全取代 XHR（缺乏上传进度事件）。</li><li><b>Axios 封装了拦截器、超时、取消、并发控制</b>，统一了前后端 HTTP 请求体验。</li><li><b>Axios 内部在浏览器端仍基于 XHR 实现</b>，在 Node 端使用 http 模块。</li><li><b>Fetch 默认不抛出非 2xx 异常</b>，是很多面试官爱问的陷阱。</li><li><b>请求取消统一标准是 AbortController</b>，Axios 新版和 Fetch 都已兼容。</li></ol><h2 id="六、面试口头速答模板-约-30-秒" tabindex="-1">六、面试口头速答模板（约 30 秒） <a class="header-anchor" href="#六、面试口头速答模板-约-30-秒" aria-label="Permalink to “六、面试口头速答模板（约 30 秒）”">​</a></h2><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>“AJAX 是基于 XHR 的异步请求技术；Fetch 是浏览器原生提供的 Promise API，更现代但没有上传进度、非 2xx 不会抛错；Axios 是对 XHR 的高级封装，支持拦截器、超时、取消和自动 JSON 解析，兼容性和易用性都更好。现在项目中一般推荐用 Axios，Fetch 用于轻量或原生场景。”</p></div>`,18)])])}const o=t(e,[["render",n]]);export{g as __pageData,o as default};
