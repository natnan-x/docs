# Vue 常用指令详解

## 一、概述

Vue 指令（Directives）是以 `v-` 为前缀的特殊属性，用于在模板中操作 DOM 或绑定数据。以下按照**使用频率**从高到低列出常见指令及其用途。

## 二、最高频指令（核心常用）

### 1. `v-bind`

- **作用**：动态绑定属性值。
- **语法**：`v-bind:attr="value"` 或简写 `:attr="value"`
- **示例**：

  ```vue
  <img :src="imgUrl" :alt="desc" />
  ```

### 2. `v-model`

- **作用**：实现表单双向数据绑定。
- **语法**：`v-model="data"`
- **示例**：

  ```vue
  <input v-model="username" placeholder="请输入用户名" />
  ```

- **说明**：Vue3 中可用于自定义组件绑定，通过 `modelValue` 与 `@update:modelValue` 实现。

### 3. `v-if` / `v-else-if` / `v-else`

- **作用**：条件渲染，根据表达式布尔值决定是否渲染元素。
- **示例**：

  ```vue
  <p v-if="isLogin">欢迎回来</p>
  <p v-else>请先登录</p>
  ```

### 4. `v-for`

- **作用**：列表渲染，遍历数组或对象生成多个节点。
- **语法**：`v-for="(item, index) in list" :key="index"`
- **示例**：

  ```vue
  <li v-for="(user, i) in users" :key="user.id">{{ user.name }}</li>
  ```

### 5. `v-on`

- **作用**：绑定事件监听器。
- **语法**：`v-on:event="handler"` 或简写 `@event="handler"`
- **示例**：

  ```vue
  <button @click="submitForm">提交</button>
  ```

## 三、中频指令（控制与优化）

### 6. `v-show`

- **作用**：控制元素显示或隐藏（通过 `display: none` 实现，不销毁 DOM）。
- **对比**：`v-if` 会真正移除或重新创建元素。
- **示例**：

  ```vue
  <p v-show="isVisible">可见文本</p>
  ```

### 7. `v-slot`

- **作用**：用于声明插槽内容，替代 Vue2 的 `slot` 和 `slot-scope`。
- **示例**：

  ```vue
  <BaseLayout>
    <template #header>头部内容</template>
  </BaseLayout>
  ```

### 8. `v-pre`

- **作用**：跳过该节点及其子节点的编译过程，提升性能。
- **示例**：

  ```vue
  <div v-pre>{{ 这里不会被编译 }}</div>
  ```

### 9. `v-once`

- **作用**：元素只渲染一次，后续数据变化不再更新。
- **示例**：

  ```vue
  <p v-once>{{ username }}</p>
  ```

### 10. `v-memo`（Vue3 新增）

- **作用**：缓存部分模板结果，提高渲染性能。
- **示例**：

  ```vue
  <div v-memo="[count]">{{ count }}</div>
  ```

## 四、低频指令（特定场景）

### 11. `v-cloak`

- **作用**：防止模板闪烁（防止插值 `{{ }}` 在加载前显示）。
- **用法**：与 CSS 结合：

  ```css
  [v-cloak] {
    display: none;
  }
  ```

### 12. `v-html`

- **作用**：渲染原始 HTML 字符串。
- **注意**：存在 XSS 风险，需谨慎使用。
- **示例**：

  ```vue
  <div v-html="rawHtml"></div>
  ```

### 13. `v-text`

- **作用**：更新元素文本内容，等价于插值 `{{ }}`。
- **示例**：

  ```vue
  <p v-text="message"></p>
  ```

## 五、总结

- 高频（开发常用）：`v-bind`、`v-model`、`v-if`、`v-for`、`v-on`
- 中频（控制优化）：`v-show`、`v-slot`、`v-pre`、`v-once`、`v-memo`
- 低频（特定用途）：`v-cloak`、`v-html`、`v-text`

在实际开发中，应优先掌握高频指令的组合使用，并根据性能与安全需求灵活运用中低频指令。
