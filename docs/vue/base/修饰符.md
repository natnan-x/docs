# Vue 修饰符详解

## 一、概述

修饰符（Modifiers）是指在指令后以 `.` 开头的后缀，用于对指令行为进行细化控制。以下按照**使用频率**从高到低列出 Vue 常见修饰符及其用途与示例。

## 二、最高频修饰符（事件相关）

### 1. `.prevent`

- **作用**：阻止默认事件。
- **示例**：

  ```vue
  <form @submit.prevent="onSubmit">...</form>
  ```

### 2. `.stop`

- **作用**：阻止事件冒泡。
- **示例**：

  ```vue
  <button @click.stop="handleClick">点击</button>
  ```

### 3. `.capture`

- **作用**：使用捕获模式监听事件。
- **示例**：

  ```vue
  <div @click.capture="onOuter"><button @click="onInner">点击</button></div>
  ```

### 4. `.self`

- **作用**：仅当事件在自身元素上触发时才执行回调。
- **示例**：

  ```vue
  <div @click.self="onSelfClick">仅自身触发</div>
  ```

### 5. `.once`

- **作用**：事件只触发一次。
- **示例**：

  ```vue
  <button @click.once="init">初始化</button>
  ```

### 6. `.passive`

- **作用**：告诉浏览器监听器不会调用 `preventDefault()`，用于提升滚动性能。
- **示例**：

  ```vue
  <div @scroll.passive="onScroll">...</div>
  ```

## 三、中频修饰符（键盘与输入）

### 1. `.enter`、`.tab`、`.delete`、`.esc`、`.space`、`.up`、`.down`、`.left`、`.right`

- **作用**：键盘事件修饰符，用于绑定特定按键。
- **示例**：

  ```vue
  <input @keyup.enter="submit" />
  <input @keyup.esc="cancel" />
  ```

### 2. `.lazy`

- **作用**：`v-model` 修饰符，输入框内容在 `change` 事件时同步（而非 `input` 实时同步）。
- **示例**：

  ```vue
  <input v-model.lazy="username" />
  ```

### 3. `.number`

- **作用**：`v-model` 修饰符，自动将输入值转为数字。
- **示例**：

  ```vue
  <input v-model.number="age" />
  ```

### 4. `.trim`

- **作用**：`v-model` 修饰符，自动去除输入首尾空格。
- **示例**：

  ```vue
  <input v-model.trim="nickname" />
  ```

## 四、低频修饰符（表单、事件控制）

### 1. `.exact`

- **作用**：限制事件触发必须完全匹配组合键。
- **示例**：

  ```vue
  <button @click.exact="onClick">仅无组合键时触发</button>
  ```

### 2. `.ctrl`、`.alt`、`.shift`、`.meta`

- **作用**：组合键事件修饰符。
- **示例**：

  ```vue
  <button @click.ctrl="save">Ctrl + Click 保存</button>
  ```

### 3. `.left`、`.right`、`.middle`

- **作用**：鼠标按键修饰符。
- **示例**：

  ```vue
  <button @click.right="showMenu">右键打开菜单</button>
  ```

## 五、Vue3 新增修饰符

### 1. `.exact`（强化键盘组合控制）

用于组合键事件的精确匹配，Vue3 保留该特性。

### 2. `.camel`

- **作用**：在 `v-bind` 中将属性名转为驼峰形式（适用于 Web Components）。
- **示例**：

  ```vue
  <my-element v-bind:some-prop.camel="value" />
  ```

### 3. `.prop`

- **作用**：强制绑定为 DOM 属性而非 HTML 特性。
- **示例**：

  ```vue
  <div v-bind:innerHTML.prop="rawHtml" />
  ```

## 六、总结表

| 分类         | 修饰符                                                   | 用途                      |
| ------------ | -------------------------------------------------------- | ------------------------- |
| 事件控制     | `.prevent` `.stop` `.capture` `.self` `.once` `.passive` | 控制事件传播与触发时机    |
| 键盘输入     | `.enter` `.tab` `.esc` `.up` `.down` 等                  | 快捷键绑定                |
| 表单双向绑定 | `.lazy` `.number` `.trim`                                | 控制 v-model 数据同步方式 |
| 组合键与鼠标 | `.ctrl` `.alt` `.shift` `.meta` `.left` `.right`         | 精准事件匹配              |
| 特殊场景     | `.exact` `.camel` `.prop`                                | 特殊 DOM 或组合键控制     |

## 七、总结

- 高频修饰符：`.prevent`、`.stop`、`.once`、`.lazy`、`.trim`
- 中频修饰符：键盘与组合键类（`.enter`、`.ctrl`）
- 低频修饰符：`.camel`、`.prop`、`.exact`

掌握这些修饰符能让模板逻辑更简洁、事件处理更高效，是 Vue 面试与项目开发的常考内容。
